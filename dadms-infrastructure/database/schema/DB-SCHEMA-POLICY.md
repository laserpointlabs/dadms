Here is a **comprehensive schema governance prompt** you can use for an LLM, as a policy document, or as a template for onboarding and code reviews.
You can save this as `/schema/SCHEMA-GOVERNANCE.md` or similar in your repo.

---

# Database Schema Governance Policy

## Purpose

Establish and enforce standards to ensure the database schema is **consistent, up-to-date, auditable, and aligned** with project requirements.

---

## 1. **Ownership and Accountability**

* The schema is owned by the \[Data Engineering Team / Lead Developer / Assigned Owner].
* All changes require review and approval by at least one schema owner.

## 2. **Single Source of Truth**

* `/schema/dadms_schema.sql` (or equivalent) is the canonical schema definition.
* All application code, documentation, and migrations **must reference and remain consistent with this file**.

## 3. **Schema Change Process**

* All schema changes must be made via pull requests (PRs).
* Each PR that affects the schema must:

  * Update the canonical schema file.
  * Provide a clear summary of the change in the PR description.
  * Include migration scripts where required (e.g., Alembic, Liquibase, Prisma).
  * Update related diagrams (ERD, etc.) in `/docs`.
  * Update the schema change log in `/docs/SCHEMA-CHANGELOG.md`.

## 4. **Review and Approval**

* All schema changes must be reviewed by at least one other team member.
* Use code review checklists to confirm:

  * Consistency with naming conventions and standards.
  * Migration safety (data preservation, downtime minimization).
  * Documentation updates.
  * Backward compatibility (when possible).

## 5. **Migration and Deployment**

* All schema migrations must be tested in a staging environment before production.
* No manual schema edits are allowed in production; all changes must go through versioned migration scripts.

## 6. **Documentation**

* Maintain clear, up-to-date ER diagrams and table/field descriptions in `/docs`.
* Keep `/docs/SCHEMA-CHANGELOG.md` updated with every schema change (include date, author, description, and related PR).

## 7. **Audit and Compliance**

* Regularly audit the production schema against the canonical definition for drift.
* Record and remediate any discrepancies immediately.
* Document all exceptions or emergency changes in the change log.

## 8. **LLM and Tool Guidance**

* Any code or documentation generated by LLMs or automation tools **must use the canonical schema as its data source**.
* Always validate generated code against the latest schema.
* LLMs should be prompted to check `/schema/dadms_schema.sql` before generating new code or queries.

## 9. **Change Communication**

* Notify the team and update relevant documentation after any approved schema change.
* Major schema changes (e.g., breaking changes, large refactors) require an announcement and/or meeting to communicate impacts.

## 10. **Enforcement**

* CI/CD must enforce that:

  * All migrations are present and valid.
  * The canonical schema is up-to-date.
  * Documentation is not missing.
* PRs failing to comply are blocked until requirements are met.

---

## Example Prompt for LLM Code Generation

> **Prompt:**
> When generating code, documentation, or migrations, always reference `/schema/schema.sql` as the single source of truth. Ensure any code or docs are consistent with the latest schema version and follow the Schema Governance Policy.

---

**End of Policy**
Update and expand this policy as the project evolves. Store it in your repo and require all contributors and tools to adhere to it.
